
+++++++++
Criar ONT:
+++++++++

DLP 3261
--------

1) Create an association between an ONT HW version/variant and an ONT SW
version/variant (download and planned) with the following command:

configure equipment ont sw-ctrl (sw-ctrl-id) hw-version <Gpon::SwVer>
(no) ont-variant <Gpon::PlndVar>		<----- DO   ou SIP
(no) plnd-sw-version <Gpon::SwVer>
(no) plnd-sw-ver-conf <Gpon::SwVer>
(no) sw-dwload-ver <Gpon::SwVer>


2) Provision the ONT on the GPON interface by assigning values to all of its
parameters with the following command:

configure equipment ont interface 1/1/<slot>/<PON>/<ont-idx>
battery-bkup disable
(no) desc1 <Gpon::Desc>					<---- ????
(no) desc2 <Gpon::Desc>					<---- ????
(no) provversion <Gpon::ProvVersion>			<---- "*"   , não colocar porque é default
(no) sernum <Gpon::SerNum>
subslocid <Gpon::SubsLocId>
sw-ver-pland auto
fec-up enable
sw-dnload-version <Gpon::SwVer>				<---- auto  ???
plnd-var <Gpon::PlndVar>				<---- DO ou SIP
enable-aes enable
(no) voip-allowed <Gpon::VoipAllowed>			<---- ????
(no) iphc-allowed <Gpon::IphcAllowed>			<---- ????
(no) log-auth-id <Gpon::LogAuthId>			<---- ????
(no) log-auth-pwd <Gpon::LogAuthPwd>			<---- ????
(no) sn-bundle-ctrl					<---- ????
[no] pland-cfgfile1					<---- ????
(no) pland-cfgfile2					<---- ????
[no] dnload-cfgfile1					<---- ????
[no] dnload-cfgfile2					<---- ????

configure equipment ont interface 1/1/<slot>/<PON>/<ont-idx> admin-state up



3) Configure the queue-sharing of the ONT with the following command:

configure qos interface (index)
(no) scheduler-node <Qos::SchedulerNodeProfName>
(no) cac-profile <Qos::QosCacProfileName>
(no) ds-queue-sharing
(no) us-queue-sharing
(no) ds-num-queue <Qos::NumberofQueues>
(no) us-num-queue <Qos::NumberofQueues>
(no) queue-stats-on
(no) gem-sharing


4) Attach the scheduler node profile to the ONT with next command:
configure qos interface (index)
(no) scheduler-node <Qos::SchedulerNodeProfName>
(no) cac-profile <Qos::QosCacProfileName>
(no) ds-queue-sharing
(no) us-queue-sharing
(no) ds-num-queue <Qos::NumberofQueues>
(no) us-num-queue <Qos::NumberofQueues>
(no) queue-stats-on
(no) gem-sharing


5) Plan (one or more, in function of the type of ONT) ONT cards on the ONT

configure equipment ont slot (ont-slot-idx)
planned-card-type <Gpon::PlndCardType>
plndnumdataports <Gpon::PlndNumDataPorts>
plndnumvoiceports <Gpon::PlndNumVoicePorts>
(no) port-type <Gpon::PortType>
(no) transp-mode-rem <Gpon::TranspMode>
(no) admin-state <Gpon::AdminStatus>


DLP 3305
--------

The value of the ONT parameter SWPLNDVER determines the software upgrade method for a specific ONT.

	• Planned (sw-ver-pland=planned software version)
	• Automatic (sw-ver-pland=AUTO)	<========
	• Manual (sw-ver-pland=MANUAL)


i) Verify that the ONT software file resides on the NT file system:

show equipment eont sw-version [ (sw-ver-id) ]


ii) If the ONT sofware file resides on the NT file system, create the control table entry:

configure equipment eont (sw-ctrl (sw-ctrl-id)
hw-version <Epon::HwVer>
[ (no) ont-variant <Epon::PlndVar> ]
plnd-sw-version <Epon::SwVer>
[ (no) upgrade-mode <Epon::UpMode> ] )


iii) Verify the configuration:

info [detail]



iv) Save the configuration:

admin save


Exemplo:
-------

configure equipment eont swctrl 10 hw-version 3FE50683ADAB01 ont-variant SIP plnd-sw-version 3FE50853AFQA14 upgrade-mode none

admin save

show equipment eont sw-version FE50854AFQA20

configure equipment eont sw-ctrl 3 plnd-sw-version 3FE50854AFQA20 upgrade-mode CTC

admin save

show equipment ont sw-ctrl 1

configure equipment eont no sw-ctrl 1


show equipment ont sw-download 1/1/6/2/3 detail

